server:
  address: "::"
  port: 8080
  db_path: "./database"
  max_payload_size: "100KB"
  cors:
    allowed_origins:
      - "http://localhost:3000"
      - "http://127.0.0.1:3000"
      - "http://172.16.5.154:3000"
  ip_whitelist:
    - "127.0.0.1"
    - "::1"
    - "172.16.5.154"
  rate_limit:
    rps: 100_000
    burst: 150_000
  api_keys:
    backend: ["sk_example"]
    frontend: ["pk_example"]
    admin: ["admin_example"]
    signing: ["sign_example"]

retention:
  enabled: true
  cron: "0 2 28-31 * *"
  mttl: 720h
  tttl: 720h

ingest:
  intake:
    queue_capacity: 50_000
    shutdown_poll_interval: 5ms
    wal:
      enabled: false
    recovery:
      enabled: false
      temp_idx_enabled: false
  compute:
    worker_multiplier: 4
    buffer_capacity: 20_000
  apply:
     batch_count: 20_000
     batch_timeout: 100ms

sensor:
  poll_interval: 60s
  disk_high_pct: 80
  mem_high_pct: 80
  cpu_high_pct: 90
  recovery_window: 5s

logging:
  level: "debug"

telemetry:
  buffer_size: 60MB
  file_max_size: 40MB
  flush_interval: 2ms
  queue_capacity: 2048

encryption:
  enabled: true
  fields: ["body"]
  kms:
    mode: "embedded"
    endpoint: "127.0.0.1:6820"
    master_key_file: ""
    master_key_hex: "b748dbd094c8da033bb830f52963c051f2c41387c27c89bcf507736da944f337"