# ProgressDB Environment Variables
# Environment variables override config.yaml settings.

# Server Configuration
PROGRESSDB_SERVER_ADDRESS=0.0.0.0
PROGRESSDB_SERVER_PORT=8080
PROGRESSDB_SERVER_DB_PATH=./database
PROGRESSDB_DB_PATH=./database
PROGRESSDB_CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
PROGRESSDB_RATE_RPS=100000
PROGRESSDB_RATE_BURST=150000
PROGRESSDB_IP_WHITELIST=127.0.0.1
PROGRESSDB_API_BACKEND_KEYS=sk_example
PROGRESSDB_API_FRONTEND_KEYS=pk_example
PROGRESSDB_API_ADMIN_KEYS=admin_example
PROGRESSDB_API_SIGNING_KEYS=sign_example

# Encryption Configuration
PROGRESSDB_ENCRYPTION_ENABLED=true
PROGRESSDB_ENCRYPTION_FIELDS=body

# KMS Configuration
PROGRESSDB_KMS_MODE=embedded
PROGRESSDB_KMS_ENDPOINT=127.0.0.1:6820
PROGRESSDB_KMS_DATA_DIR=./kms-data
PROGRESSDB_KMS_MASTER_KEY_FILE=
PROGRESSDB_KMS_MASTER_KEY_HEX=0000000000000000000000000000000000000000000000000000000000000000

# Logging Configuration
PROGRESSDB_LOG_LEVEL=debug

# Retention Configuration
PROGRESSDB_RETENTION_ENABLED=true
PROGRESSDB_RETENTION_CRON=0 2 28-31 * *
PROGRESSDB_RETENTION_MTTL=720h
PROGRESSDB_RETENTION_TTTL=720h

# Telemetry Configuration
PROGRESSDB_TELEMETRY_BUFFER_SIZE=60MB
PROGRESSDB_TELEMETRY_FILE_MAX_SIZE=40MB
PROGRESSDB_TELEMETRY_FLUSH_INTERVAL=2ms
PROGRESSDB_TELEMETRY_QUEUE_CAPACITY=2048

# Sensor Configuration
PROGRESSDB_SENSOR_POLL_INTERVAL=60s
PROGRESSDB_SENSOR_DISK_HIGH_PCT=80
PROGRESSDB_SENSOR_MEM_HIGH_PCT=80
PROGRESSDB_SENSOR_CPU_HIGH_PCT=90
PROGRESSDB_SENSOR_RECOVERY_WINDOW=5s

# Intake Configuration
PROGRESSDB_INTAKE_QUEUE_CAPACITY=10000
PROGRESSDB_INTAKE_SHUTDOWN_POLL_INTERVAL=5ms
PROGRESSDB_INTAKE_WAL_ENABLED=true
PROGRESSDB_INTAKE_WAL_SEGMENT_SIZE=
PROGRESSDB_INTAKE_RECOVERY_ENABLED=true
PROGRESSDB_INTAKE_RECOVERY_TEMP_IDX_ENABLED=true

# Compute Configuration
PROGRESSDB_COMPUTE_WORKER_COUNT=24
PROGRESSDB_COMPUTE_BUFFER_CAPACITY=10000

# Apply Configuration
PROGRESSDB_APPLY_BATCH_COUNT=1000
PROGRESSDB_APPLY_BATCH_TIMEOUT=1s